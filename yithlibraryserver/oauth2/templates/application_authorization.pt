<!DOCTYPE html>
<html lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="base.macros['base']">

<tal:block metal:fill-slot="header-title">Authorize Application</tal:block>

<tal:block metal:fill-slot="content">

  <div class="hero-unit">
    <h1>Authorize application</h1>

    <p>The application <a href="${app.main_url}">${app.name}</a>
      is requesting access to the following items:</p>

    <ul>
      <li tal:repeat="scope scopes">${scope}</li>
    </ul>

    <p>Do you want to allow this access?</p>

    <form method="post" action="${request.route_path('oauth2_authorization_endpoint', app=app._id)}">
      <input type="hidden" name="response_type" value="${response_type}" />
      <input type="hidden" name="client_id" value="${client_id}" />
      <input type="hidden" name="redirect_uri" value="${redirect_uri}" />
      <input type="hidden" name="scope" value="${scope}" />
      <input type="hidden" name="state" value="${state}" />
      <input class="btn btn-primary btn-large" type="submit" name="submit" value="Yes, I authorize the ${app.name} application" />
    </form>

    <p>You can revoke this permission in the future.</p>
  </div>

</tal:block>

</html>
